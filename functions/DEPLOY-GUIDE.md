# Firebase Cloud Functions ‚Äî Deploy Guide

## ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏Å‡πà‡∏≠‡∏ô

```bash
npm install -g firebase-tools
firebase login
```

---

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1 ‚Äî ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á dependencies ‡πÉ‡∏ô functions/

```bash
cd functions
npm install
cd ..
```

---

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2 ‚Äî ‡πÄ‡∏Å‡πá‡∏ö Secret ‡πÉ‡∏ô Google Cloud Secret Manager

‡∏£‡∏±‡∏ô 2 ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ô‡∏µ‡πâ (‡πÉ‡∏™‡πà‡∏Ñ‡πà‡∏≤‡∏à‡∏£‡∏¥‡∏á‡πÅ‡∏ó‡∏ô `<VALUE>`):

```bash
firebase functions:secrets:set TELEGRAM_BOT_TOKEN
# ‡∏à‡∏∞‡∏ñ‡∏≤‡∏°‡πÉ‡∏´‡πâ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡πà‡∏≤ ‚Üí ‡∏ß‡∏≤‡∏á Bot Token ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î Enter

firebase functions:secrets:set TELEGRAM_CHAT_ID
# ‡∏à‡∏∞‡∏ñ‡∏≤‡∏°‡πÉ‡∏´‡πâ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡πà‡∏≤ ‚Üí ‡∏ß‡∏≤‡∏á Chat ID (-5147222192) ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î Enter
```

‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ secret ‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡πâ‡∏ß:

```bash
firebase functions:secrets:access TELEGRAM_BOT_TOKEN
firebase functions:secrets:access TELEGRAM_CHAT_ID
```

---

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3 ‚Äî Build TypeScript

```bash
cd functions
npm run build
cd ..
```

---

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 4 ‚Äî Deploy Cloud Function

```bash
firebase deploy --only functions
```

‡∏ñ‡πâ‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô:

```
‚úî  functions[dailyJobReminder(asia-southeast1)] Successful create operation.
```

---

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 5 ‚Äî ‡∏ó‡∏î‡∏™‡∏≠‡∏ö (‡∏™‡πà‡∏á Telegram ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠ 18:30)

‡πÑ‡∏õ‡∏ó‡∏µ‡πà Google Cloud Console:

1. ‡πÄ‡∏õ‡∏¥‡∏î [https://console.cloud.google.com/functions](https://console.cloud.google.com/functions)
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å project `subtruckmanagementsystem`
3. ‡∏Ñ‡∏•‡∏¥‡∏Å `dailyJobReminder` ‚Üí **Testing** tab
4. ‡∏Å‡∏î **TEST THE FUNCTION** ‚Üí Telegram ‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏±‡∏ô‡∏ó‡∏µ

‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ Firebase CLI:

```bash
firebase functions:shell
# ‡πÅ‡∏•‡πâ‡∏ß‡∏û‡∏¥‡∏°‡∏û‡πå:
dailyJobReminder()
```

---

## Schedule ‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡πÑ‡∏ß‡πâ

| Cron | ‡πÄ‡∏ß‡∏•‡∏≤ UTC | ‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏ó‡∏¢ (ICT) |
|------|----------|---------------|
| `30 11 * * *` | 11:30 UTC | 18:30 ICT ‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô |

---

## ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á Telegram Message ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö

**‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏á‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏á:**

```
‚ö†Ô∏è ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏á‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏á‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏à‡∏ö‡∏á‡∏≤‡∏ô
üóì 28 ‡∏Å‡∏∏‡∏°‡∏†‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡πå 2569  |  ‡πÄ‡∏ß‡∏•‡∏≤ 18:30 ‡∏ô.

‡∏û‡∏ö‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏à‡∏ö‡∏á‡∏≤‡∏ô 2 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£

1. üìã JRS-2026-0143
   üìÖ ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£: 2026-02-28
   üó∫ ‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á: ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø ‚Üí ‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ
   üöõ ‡∏£‡∏ñ: 6 ‡∏•‡πâ‡∏≠ (‡∏Å‡∏Ç-1234)
   üè¢ Subcontractor: ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ABC
   üë∑ ‡∏Ñ‡∏ô‡∏Ç‡∏±‡∏ö: ‡∏ß‡∏¥‡∏ä‡∏±‡∏¢ ‡∏£‡∏±‡∏Å‡∏á‡∏≤‡∏ô

üìå ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏ö‡∏á‡∏≤‡∏ô‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö
```

**‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏á‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏á:**

```
‚úÖ ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏£‡∏∏‡∏õ‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô
üóì 28 ‡∏Å‡∏∏‡∏°‡∏†‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡πå 2569  |  ‡πÄ‡∏ß‡∏•‡∏≤ 18:30 ‡∏ô.

üéâ ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏á‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏á‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏ö‡∏á‡∏≤‡∏ô
‡∏ó‡∏∏‡∏Å‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡πÅ‡∏•‡πâ‡∏ß!
```

---

## Architecture

```
Google Cloud Scheduler (Cron: 30 11 * * *)
    ‚Üì
Firebase Cloud Function: dailyJobReminder
    ‚Üì
Firebase RTDB: ‡∏≠‡πà‡∏≤‡∏ô‡∏á‡∏≤‡∏ô status = "Assigned"
    ‚Üì
Google Cloud Secret Manager: ‡∏î‡∏∂‡∏á BOT_TOKEN + CHAT_ID
    ‚Üì
Telegram Bot API: sendMessage
    ‚Üì
Telegram Group: ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏á
```

Token ‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏¢ expose ‡∏≠‡∏≠‡∏Å‡∏°‡∏≤ browser ‚Äî ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ 100%
